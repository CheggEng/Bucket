<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src&#x2F;Driver.js - jStorage</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="jStorage"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Driver.html">Driver</a></li>
            
                <li><a href="..&#x2F;classes/DriverStub.html">DriverStub</a></li>
            
                <li><a href="..&#x2F;classes/Events.html">Events</a></li>
            
                <li><a href="..&#x2F;classes/Helper.html">Helper</a></li>
            
                <li><a href="..&#x2F;classes/Memory.html">Memory</a></li>
            
                <li><a href="..&#x2F;classes/utils.Bind.html">utils.Bind</a></li>
            
                <li><a href="..&#x2F;classes/utils.CallbackGroup.html">utils.CallbackGroup</a></li>
            
                <li><a href="..&#x2F;classes/utils.Delegate.html">utils.Delegate</a></li>
            
                <li><a href="..&#x2F;classes/utils.Events.html">utils.Events</a></li>
            
                <li><a href="..&#x2F;classes/utils.KeyNav.html">utils.KeyNav</a></li>
            
                <li><a href="..&#x2F;classes/utils.Options.html">utils.Options</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/Driver.html">Driver</a></li>
            
                <li><a href="..&#x2F;modules/Events.html">Events</a></li>
            
                <li><a href="..&#x2F;modules/utils.Mixins.html">utils.Mixins</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src&#x2F;Driver.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
!function (ns, utils) {
    &#x2F;**
     * @module Driver
     *&#x2F;

    var Driver,
        apiMethods = &quot;clear, each, exists, get, getAll, getKeys, init, remove, set&quot;.split(&#x27; &#x27;);

    &#x2F;**
     * This is the stub methods for the driver.
     * The method return this so it can be chainable later if needed.
     *
     * @chainable
     * 
     * @return {this}
     *&#x2F;
    function stubMethod() {
        return this;
    }

    &#x2F;**
     * This is the skeleton Driver class.&lt;br&#x2F;&gt;
     * The class will be used as teh base class for all the drivers implementation.&lt;br&#x2F;&gt;
     * Here we define the API for the drivers&lt;br&#x2F;&gt;
     *
     * @class Driver
     *
     * @ uses Events
     * @ uses Options
     * @ uses Bind
     * @constructor
     *&#x2F;
    function Driver(options) {
        utils.Events.call(this);
        utils.Options.call(this);
        utils.Bind.call(this);

        this.setOptions(options);
    }

    Driver.prototype = {
        constructor:Driver,

        &#x2F;**
         * The driver name.
         *
         * @property name
         * @type {String}
         * @default &#x27;Driver&#x27;
         *&#x2F;
        name:&#x27;Driver&#x27;,

        &#x2F;**
         * This method will check to see if driver is available for the current browser.
         *
         * @method valid
         * @return boolean
         *&#x2F;
        valid:function () {
            return false;
        }

    };

    &#x2F;**
     * Add all the api methods to the driver class.
     * Those methods should be implemented in each driver
     *&#x2F;
    apiMethods.forEach(function (method, index, array) {
        Driver.prototype[method] = stubMethod;
    });


    &#x2F;**
     * List of available drivers.
     *
     * @property drivers
     * @static
     * @type {Array}
     *&#x2F;
    Driver.drivers = [];

    &#x2F;**
     * Registers a driver.&lt;br&#x2F;&gt; 
     * A driver must always have a &lt;b&gt;test&lt;&#x2F;b&gt; method&lt;br&#x2F;&gt;
     *
     * @method register
     * @static
     *
     * @param {string} name
     * @param {object} props a list of methods and properties for the new driver
     *
     * @return {Driver} the new driver
     *&#x2F;
    Driver.register = function (name, params) {
        var d;

        function driver() {
            this.$construct(arguments);
            this.init &amp;&amp; this.init(arguments);
        }

        if (!params.test || typeof params.test != &#x27;function&#x27;) {
            throw &quot;Driver must always have a test method&quot;;
        }

        d = utils.inherit(driver, Driver, params);
        d.test = params.test;
        d.name = name;

        Driver.drivers.push(d);

        return d;
    };

    &#x2F;**
     * chooses which driver to use and creates it
     * @method choose
     * @static
     *
     * @param {object} options options to pass to the driver&#x27;s constructor
     *
     * @return {Driver} the chosen driver
     *&#x2F;
    Driver.choose = function (opts) {
        var i, driver;

        if (Driver.chosen) {
            return new Driver.chosen(opts);
        }

        for (i = 0; driver = Driver.drivers[i]; i++) {
            if (driver.test()) {
                Driver.chosen = driver;
                return new driver(opts);
            }
        }
    }

    &#x2F;&#x2F; ---- API Method documentation

    &#x2F;**
     * Delete all the records from the storage
     *
     * @async
     * @chainable
     *
     * @method clear
     * @param {function} [callback] - A callback function that will be invoked after the clear.
     *&#x2F;

    &#x2F;**
     * Run the callback method on all the storage items.
     *
     * &lt;pre&gt;&lt;code&gt;
     *   each(function callback(String key, String value)
     *
     * &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method each
     * @param {function} callback - A callback function that will handle the results.
     *                              The callback parameters are (key, value)
     *&#x2F;

    &#x2F;**
     * Check to see if the given key already exist in the Storage
     * &lt;pre&gt;&lt;code&gt;
     *   exists(String key, function callback(String key, String value) - fetch single&#x2F;multiple record
     *
     * &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method exist
     * @param {String} key - The key of the item we want to check if exits
     * @param {function} callback - A callback function that will handle the results.
     *                              The callback parameters are (key, value)
     *
     * @return {Boolean} exists - true&#x2F;false if the key exists or not
     *&#x2F;

    &#x2F;**
     * Retrieve item or items from the storage.
     *
     * &lt;pre&gt;&lt;code&gt;
     *   get(String|Array, function callback(String key, String value)  - fetch single&#x2F;multiple record
     *
     * &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method get
     * @param {String} [key] - The key of the item we want to retrieve
     *
     * @param {Array}   [keys]   - Array with the keys that we want to fetch
     *
     * @param {Function} callback - A callback function that will handle the results.
     *                              The callback parameters are (String, String|Array) based upon the arguments passed to the function
     *
     * @return {String|object} if was asked for a collection of values, return a map, otherwise return a string
     *
     *&#x2F;

    &#x2F;**
     * get all the storage items.
     *
     * &lt;pre&gt;&lt;code&gt;
     *   getAll(function callback(JSON records))
     *
     *     &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method getAll
     * @param {Function} callback - A callback function for processing the records
     * @return {object} key=&gt;value map
     *&#x2F;

    &#x2F;**
     * get all the storage keys.
     *
     * &lt;pre&gt;&lt;code&gt;
     *   getKeys(function callback(Array keys))
     *
     *     &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method getKeys
     * @param {Function} callback - A callback function for processing the keys
     *&#x2F;

    &#x2F;**
     * This method will be init the Driver.
     * Any initialization code should be place here
     *
     * @method init
     *&#x2F;

    &#x2F;**
     * Remove items from the storage
     *
     * &lt;pre&gt;&lt;code&gt;
     *   remove(String|Array) - remove the given key(s) from teh storage
     *
     *     &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method remove
     * @param {String|Array} [key&#x2F;keys] - The key(s) of the item we want to remove
     *&#x2F;

    &#x2F;**
     * Add a new item(s) to the storage.
     * If the key is already in the store it will be updated.
     * The method accept &lt;b&gt;any&lt;&#x2F;b&gt; of the following:
     *
     * &lt;pre&gt;&lt;code&gt;
     *     set(String key, String value) - Simple key value pairs
     *     set(JSON   pairs)             - Collection of keys and values
     *     set(Array  pairs)             - Array of key value pairs
     *
     *     &lt;&#x2F;code&gt;
     * &lt;&#x2F;pre&gt;
     *
     * @async
     * @chainable
     *
     * @method set
     * @param {String,String} [key,value] - Simple key &amp; value pair
     *
     * @param {JSON}   [obj]   - JSON containing set of key values pairs
     *
     * @param {Array}  [Array] - Array of keys and values
     *
     *&#x2F;

}.apply(jStorage, [jStorage, utils]);


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
