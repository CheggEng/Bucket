<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="../src/common/Error.js"></script>
    <script src="../src/common/Events.js"></script>
    <script src="../src/common/Logger.js"></script>
    <script src="../src/common/utils.js"></script>
    <script src="../src/common/utils.mixins.js"></script>
    <script src="../src/drivers/Driver.js"></script>
    <script src="../src/drivers/DriverManager.js"></script>
    <script src="../src/drivers/InMemory.js"></script>
</head>
<body>

<script>
    var driver = jStore.DriverManager.choose();

    function each() {
        // Print all the records
        driver.each(function (key, value) {
            console.log('Each -> ', key + ':' + value);
        });
    }

    // Set
    driver.set('key', 'value');
    driver.set('key1', 'value1');
    driver.set('key2', 'value2');

    var arr1 = [];
    // Add duplicate 'a' as key
    arr1['a'] = 'arr0';
    arr1['a1'] = 'arr1';
    arr1['a2'] = 'arr2';
    driver.set(arr1);

    var json1 = {
        a:'jsona',
        b:'jsonb',
        c:'jsonc'
    };

    // Print all the data in the storage
    each();

    driver.set(json1);

    // Check to exists and then remove and check again
    console.log('key1 exists: ', driver.exists('key1'));
    console.log('getAll: ', driver.getAll());
    console.log('getKeys: ', driver.getKeys());

    // remove few records
    driver.remove('a');
    driver.remove(['a', 'c', 'key1']);

    // Check to exists and after remove
    console.log('key1 exists: ', driver.exists('key1'));

    console.log('getAll: ', driver.getAll());
    console.log('getKeys: ', driver.getKeys());

    // Print all the data in the storage
    each();

    driver.clear();

    // Print all the data in the storage
    each();

</script>

</body>
</html>
